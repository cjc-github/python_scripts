# 一、文件完整性性能对比

这里对比写入内容到内存和写入内容到文件中的性能对比。

|                | 先写到临时文件，再改名（耗时s） | 保存到变量，再写入（耗时s） | 先写到临时文件，再替换（耗时s） |
| -------------- | ------------------------------- | --------------------------- | ------------------------------- |
| 写1条记录      | 0.0                             | **0.0**                     | 0.0010223388671875              |
| 写10条记录     | 0.007996082305908203            | **0.0020012855529785156**   | 0.007000446319580078            |
| 写100条记录    | 0.0732412338256836              | **0.014751434326171875**    | 0.06814980506896973             |
| 写1000条记录   | 0.7688632011413574              | **0.15035104751586914**     | 0.6656637191772461              |
| 写1万条记录    | 7.299903154373169               | **1.4390101432800293**      | 5.935896635055542               |
| 写10万条记录   | 74.33358669281006               | **14.488248109817505**      | 60.061073780059814              |
| 写100万条记录  |                                 |                             |                                 |
| 写1000万条记录 |                                 |                             |                                 |
| 写1亿条记录    |                                 |                             |                                 |
| 写10亿条记录   |                                 |                             |                                 |

如果想要在间隔性的获取这个文件output.txt时，文件是完整的话。

方法1：内容先写到临时文件，然后将这个临时文件改名为output.txt文件中。os.rename()函数

方法2：先将内容保存到变量，然后将变量保存到output.txt文件中。

方法3：内容先写到临时文件，然后将这个临时文件改名为output.txt文件中。os.replace()函数