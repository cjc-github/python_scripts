# 一、大数据字符串性能对比

这里对比写入内容到内存和写入内容到文件中的性能对比。

|                | 内存io（耗时s）       | 文件io（耗时s）       | 文件大小/内存大小 |
| -------------- | --------------------- | --------------------- | ----------------- |
| 写1万条记录    | 0.0009992122650146484 | 0.0039997100830078125 | 204k              |
| 写10万条记录   | 0.012000799179077148  | 0.03299999237060547   | 2138k             |
| 写100万条记录  | 0.13100099563598633   | 0.33710694313049316   | 22353k，          |
| 写1000万条记录 | 1.2198505401611328    | 3.4792706966400146    | 233290kb，227MB   |
| 写1亿条记录    | 12.497901201248169    | 34.51811718940735     | 2.31GB            |
| 写10亿条记录   | 120.73692584037781    | 343.5779323577881     | 24.1GB            |

# 二、二进制性能对比

这里对比写入内容到内存和写入内容到文件中的性能对比。

|                | 内存io（耗时s）       | 文件io（耗时s）       | 文件大小/内存大小 |
| -------------- | --------------------- | --------------------- | ----------------- |
| 写1万条记录    | 0.0009996891021728516 | 0.0019998550415039062 | 195k              |
| 写10万条记录   | 0.014999151229858398  | 0.01699995994567871   | 2040k             |
| 写100万条记录  | 0.14159703254699707   | 0.15700006484985352   | 21376k            |
| 写1000万条记录 | 1.4274005889892578    | 1.6803951263427734    | 218M              |
| 写1亿条记录    | 14.384056091308594    | 16.383684396743774    | 2.22GB            |
| 写10亿条记录   | 150.07683539390564    | 166.22738814353943    | 23.1GB            |



**总结：**字符串内存io（StringIO） > 二进制数据内存io（BytesIO）> 文件io（二进制数据）> 文件io（字符串）。在遇见大规模的文件时，考虑使用内存io（StringIO或BytesIO）或者二进制的文件io。